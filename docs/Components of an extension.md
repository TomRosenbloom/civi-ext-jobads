# Components of an extension

covered here: https://docs.civicrm.org/dev/en/latest/extensions/structure/

To get a better understanding of what these components are, let's put them in the order they are created, when creating a CRUD entity...

## The basic framework

`civix generate:module myextension` 

Creates:

- **info.xml**
- **myextension.php**
- **myextension.civix.php**
- **README.md**
- **LICENSE.txt**
- *build*
- *CRM/MyExtension*
- **images/screenshot.jpg**
- *templates*
- *xml*

Note that the folders created here are mostly empty (italics).



## The entity

`civix generate:entity MyEntity`

Updates:

- info.xml - adds entity-types 'mixin'

Creates:

- *api/v3*
- **Civi/Api4/Myentity.php**
- **CRM/Myentity/BAO/Myentity.php**
- *CRM/Myentity/DAO*
- **tests/phpunit/bootstrap.php**
- *tests/phpunit/api/v3*
- **xml/schema/CRM/Myentity/Myentity.entityType.php**
- **xml/schema/CRM/Myentity/Myentity.xml**

At this point it would be typical to make some manual changes to `xml/schema/CRM/Myentity/Myentity.xml`, which is the file that declares/defines the structure of your entity. This is for the most part a declaration of the structure and properties of the SQL table that will be used to store your entity items. So the root tag is 'table', and that contains tags like 'name' (the name the table will be given in SQL), a couple of 'field' tags, and tags defining primary keys, foreign keys. In the initial form generated by civix, there are just two field tags, one for the id of this entity and one for contact id. Also primary key, defined as the id, and foreign key, linking the contact id field to the civicrm_contact table (note the primaryKey and foreignKey tags are not nested but placed next to the fields they relate to). Of course these two 'starter' fields aren't of any great use on their own, and that's why you would normally add some new fields at this stage.



## The entity boilerplate







CRM/Myextension folder 

*not* created by `civix generate:module myextension`

contains BAO and DAO folders and `upgrader.php`, which constitute the 'entity boilerplate'





